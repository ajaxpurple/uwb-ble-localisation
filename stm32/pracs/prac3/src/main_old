/* Includes ------------------------------------------------------------------*/
#include "stm32l475e_iot01.h"
#include "s4436572_hal_printf.h"
#include "s4436572_hal_ultrasonic.h"
#include "s4436572_hal_led.h"
#include "stm32l475xx.h"

void SysTick_Handler(void){
  HAL_IncTick();
}

/**
  * @brief  Main program
  * @param  None
  * @retval None
  */
int main(void)
{
  
  /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
  HAL_Init();
  //BSP_LED_Init(LED2); 
  //s4436572_hal_led_init();
  s4436572_hal_printf_init();
  s4436572_hal_ultrasonic_init();
  uint32_t val;
  while(1){
    val = s4436572_hal_ultrasonic_read();
    if(val != 0xFFFF){
      debug_printf("Ultrasonic: %d\r\n", val);
    }
    //s4436572_hal_led_toggle(0);
    HAL_Delay(300);
  }
}
